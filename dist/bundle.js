(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],d=0;d<e.length;d++){var c=e[d],s=r.base?c[0]+r.base:c[0],l=o[s]||0,p="".concat(s," ").concat(l);o[s]=l+1;var m=n(p),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)t[m].references++,t[m].updater(u);else{var f=a(u,r);r.byIndex=d,t.splice(d,0,{identifier:p,updater:f,references:1})}i.push(p)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var d=n(o[i]);t[d].references--}for(var c=r(e,a),s=0;s<o.length;s++){var l=n(o[s]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},259:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,':root{--primary-color: #2c3e50;--secondary-color: #3498db;--background-color: #f5f6fa}*{box-sizing:border-box;margin:0;padding:0;scrollbar-width:none}body{margin:0;font-family:"Arial",sans-serif;background-color:var(--background-color);width:100vw;height:100vh;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none}header{background-color:var(--primary-color);color:#fff;padding:1rem}nav{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto}nav ul{list-style:none;display:flex;gap:2rem}nav a{color:#fff;text-decoration:none}.banner{background:linear-gradient(rgba(117, 109, 109, 0.5), rgba(0, 0, 0, 0.985)),url("https://source.unsplash.com/random/1920x600?travel");background-size:cover;color:#fff;padding:4rem 1rem;text-align:center;display:flex;align-items:center;justify-content:space-evenly}.banner .banner-image{width:40%}.banner .banner-image img{width:100%;border-radius:12px}.banner .banner-content{width:55%;display:flex;flex-direction:column;justify-content:center;gap:1rem}.banner .banner-content .btn{width:230px;height:50px;margin:auto;border-radius:12px}.form-section{min-height:300px;margin:2rem;padding:2rem;background:linear-gradient(rgba(117, 109, 109, 0.5), rgba(0, 0, 0, 0.985));border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,.1);color:#fff}.form-section form{display:flex;flex-direction:column;gap:1rem;font-size:1.2rem}.form-group{display:flex;gap:.5rem;align-items:center}.form-group label{min-width:100px}.form-group input{padding:.8rem;border-radius:12px;border:1px solid;min-width:200px}.form-actions{display:flex;gap:2rem;margin-top:1rem}.form-actions button{padding:.8rem;border-radius:12px;border:none;min-width:150px}.hidden{display:none}.current-trip{max-width:100%;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px}.trip-preview{text-align:center}.trip-preview>h3{text-align:start;font-size:3rem}.preview-content{display:flex;width:100%;justify-content:space-evenly;align-items:center;padding:20px;min-height:300px}.preview-content .place{width:70%}.preview-content>.place>p{font-size:2rem}.preview-content .trip-info{width:30%;display:flex;flex-direction:column;gap:4rem;align-items:start;font-size:1.3rem}.saved-trips{max-width:1200px;margin:2rem auto;padding:2rem;overflow:scroll;scrollbar-width:none}table{width:100%;border-collapse:collapse;margin-top:1rem}th,td{padding:12px;text-align:left;border-bottom:1px solid #ddd}.btn{background-color:var(--secondary-color);color:#fff;padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer}.btn-secondary{background-color:#95a5a6}.trip-actions{margin-top:1rem;display:flex;gap:1rem;justify-content:center}.trip-actions .btn{width:100px;height:40px;font-size:1rem}.destination-image{max-width:90%;border-radius:12px}@media screen and (min-width: 568px){.banner-content{font-size:1.5rem}}@media screen and (max-width: 568px){.banner{flex-direction:column}}',""]);const d=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var d=0;d<this.length;d++){var c=this[d][0];null!=c&&(i[c]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r=n(72),a=n.n(r),o=n(825),i=n.n(o),d=n(659),c=n.n(d),s=n(56),l=n.n(s),p=n(540),m=n.n(p),u=n(113),f=n.n(u),g=n(259),h={};h.styleTagTransform=f(),h.setAttributes=l(),h.insert=c().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=m(),a()(g.A,h),g.A&&g.A.locals&&g.A.locals;const v="http://localhost:5000/api";let b=null;function y(){document.getElementById("trip-form").classList.remove("hidden"),document.getElementById("banner").classList.add("hidden")}function w(){document.getElementById("trip-form").classList.add("hidden"),document.getElementById("banner").classList.remove("hidden"),document.getElementById("travelForm").reset()}async function x(e){e.preventDefault();const t=document.getElementById("location").value,n=document.getElementById("startDate").value,r=document.getElementById("endDate").value;try{const e=await async function(e){const t=await fetch(`${v}/geonames/${encodeURIComponent(e)}`),n=await t.json();if(!n.geonames||0===n.geonames.length)throw new Error("Location not found");return{lat:n.geonames[0].lat,lng:n.geonames[0].lng,country:n.geonames[0].countryName}}(t),a=await async function(e,t){const n=await fetch(`${v}/weatherbit/${e.lat}/${e.lng}/${t}`),r=await n.json();if(!r.data||0===r.data.length)throw new Error("Weather data not available");const a=r.data[0];return{temp:a.temp,description:a.weather.description,icon:a.weather.icon}}(e,n),o=await async function(e,t){try{const n=await fetch(`${v}/pixabay/${encodeURIComponent(e)}`),r=await n.json();if(r.hits.length>0)return r.hits[0].largeImageURL;const a=await fetch(`${v}/pixabay/${encodeURIComponent(t)}`),o=await a.json();return o.hits[0]?.largeImageURL||"default-image.jpg"}catch(e){return console.error("Image fetch error:",e),"default-image.jpg"}}(t,e.country),i=function(e,t){const n=new Date(e),r=new Date(t)-n;return Math.ceil(r/864e5)+1}(n,r);b={location:t,startDate:n,endDate:r,tripLength:i,coords:e,weather:a,image:o},document.getElementById("preview-content").innerHTML=`\n        <div class="place">\n            <img src="${b.image}" class="destination-image" alt="${b.location}">\n            <p><strong>Destination:</strong> ${b.location}</p>\n        </div>\n        <div class="trip-info">\n            <p><strong>Country:</strong> ${b.coords.country}</p>\n            <p><strong>Dates:</strong> ${b.startDate} to ${b.endDate}</p>\n            <p><strong>Duration:</strong> ${b.tripLength} days</p>\n            <div class="weather-info">\n                <p>${b.weather.temp}°C, ${b.weather.description}</p>\n                <img src="https://www.weatherbit.io/static/img/icons/${b.weather.icon}.png" alt="Weather icon">\n            </div>\n            <div class="trip-actions">\n                <button id="save-trip" class="btn">Save Trip</button>\n                <button id="discard-trip" class="btn btn-secondary">Discard</button>\n            </div>\n        </div>\n    `,document.getElementById("save-trip").addEventListener("click",I),document.getElementById("discard-trip").addEventListener("click",E),document.getElementById("current-trip").classList.remove("hidden"),document.getElementById("trip-form").classList.add("hidden")}catch(e){alert(e.message)}}function I(){const e=JSON.parse(localStorage.getItem("trips"))||[],t={...b,id:Date.now()};e.push(t),localStorage.setItem("trips",JSON.stringify(e)),$(),E()}function E(){b=null,document.getElementById("current-trip").classList.add("hidden"),document.getElementById("banner").classList.remove("hidden"),document.getElementById("travelForm").reset()}function $(){const e=JSON.parse(localStorage.getItem("trips"))||[];document.getElementById("trips-table").innerHTML=e.map((e=>`\n        <tr>\n            <td>${e.location}</td>\n            <td>${e.startDate} to ${e.endDate}</td>\n            <td>${e.tripLength} days</td>\n            <td>\n                ${e.weather.temp}°C, ${e.weather.description}\n            </td>\n            <td>\n                <button class="btn" onclick="deleteTrip('${e.id}')">Delete</button>\n            </td>\n        </tr>\n    `)).join("")}document.addEventListener("DOMContentLoaded",(()=>{$(),document.getElementById("show-form-btn").addEventListener("click",y),document.getElementById("cancel-form").addEventListener("click",w),document.getElementById("travelForm").addEventListener("submit",x)}))})();